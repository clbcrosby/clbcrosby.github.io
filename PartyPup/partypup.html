<!DOCTYPE html>
<HTML>
<head>
<title>Party Pup</title>
</head>
<body>
<canvas id=Canvas width=1280 height=720 style="background-color: lightblue">
</canvas>
<script>
var ctx = Canvas.getContext("2d");
ctx.font="24px Arial";

// Game code starts here.

// Load background and sprites.

var background = new Image();
background.src = "https://clbcrosby.github.io/PartyPup/background.png"

var pup = new Image();
pup.src = "https://clbcrosby.github.io/PartyPup/pup.png"

var pupx = 300;
var pupy = 630;

var fence = new Image();
fence.src = "https://clbcrosby.github.io/PartyPup/fence.png"

var floater = new Image();
floater.src = "https://clbcrosby.github.io/PartyPup/floater.png"

var fencex = 1200;
var fencey = 500;

var treat = new Image();
treat.src = "https://clbcrosby.github.io/PartyPup/treat.png"

var treatya = fencey;
var treatyb = fencey;
var treatyc = fencey;
var treatyd = fencey;
var treatye = fencey;

var round = 0;
var score = 0;
var highscore = 0;
var gameover = 0;

// Jumping Spaghetti

function jump40 () {
  pupy = 630;
}

function jump39 () {
  pupy = pupy + 25;
  setTimeout (jump40, 15);
}

function jump38 () {
  pupy = pupy + 23;
  setTimeout (jump39, 15);
}

function jump37 () {
  pupy = pupy + 22;
  setTimeout (jump38, 15);
}

function jump36 () {
  pupy = pupy + 20;
  setTimeout (jump37, 15);
}

function jump35 () {
  pupy = pupy + 20;
  setTimeout (jump36, 15);
}

function jump34 () {
  pupy = pupy + 18;
  setTimeout (jump35, 15);
}

function jump33 () {
  pupy = pupy + 17;
  setTimeout (jump34, 15);
}

function jump32 () {
  pupy = pupy + 15;
  setTimeout (jump33, 15);
}

function jump31 () {
  pupy = pupy + 15;
  setTimeout (jump32, 15);
}

function jump30 () {
  pupy = pupy + 13;
  setTimeout (jump31, 15);
}

function jump29 () {
  pupy = pupy + 12;
  setTimeout (jump30, 15);
}

function jump28 () {
  pupy = pupy + 10;
  setTimeout (jump29, 15);
}

function jump27 () {
  pupy = pupy + 10;
  setTimeout (jump28, 15);
}

function jump26 () {
  pupy = pupy + 8;
  setTimeout (jump27, 15);
}

function jump25 () {
  pupy = pupy + 7;
  setTimeout (jump26, 15);
}

function jump24 () {
  pupy = pupy + 5;
  setTimeout (jump25, 15);
}

function jump23 () {
  pupy = pupy + 5;
  setTimeout (jump24, 15);
}

function jump22 () {
  pupy = pupy + 3;
  setTimeout (jump23, 15);
}

function jump21 () {
  pupy = pupy + 2;
  setTimeout (jump22, 15);
}

function jump20 () {
  pupy = pupy - 2;
  setTimeout (jump21, 15);
}

function jump19 () {
  pupy = pupy - 3;
  setTimeout (jump20, 15);
}

function jump18 () {
  pupy = pupy - 5;
  setTimeout (jump19, 15);
}

function jump17 () {
  pupy = pupy - 5;
  setTimeout (jump18, 15);
}

function jump16 () {
  pupy = pupy - 7;
  setTimeout (jump17, 15);
}

function jump15 () {
  pupy = pupy - 8;
  setTimeout (jump16, 15);
}

function jump14 () {
  pupy = pupy - 10;
  setTimeout (jump15, 15);
}

function jump13 () {
  pupy = pupy - 10;
  setTimeout (jump14, 15);
}

function jump12 () {
  pupy = pupy - 12;
  setTimeout (jump13, 15);
}

function jump11 () {
  pupy = pupy - 13;
  setTimeout (jump12, 15);
}

function jump10 () {
  pupy = pupy - 15;
  setTimeout (jump11, 15);
}

function jump9 () {
  pupy = pupy - 15;
  setTimeout (jump10, 15);
}

function jump8 () {
  pupy = pupy - 17;
  setTimeout (jump9, 15);
}

function jump7 () {
  pupy = pupy - 18;
  setTimeout (jump8, 15);
}

function jump6 () {
  pupy = pupy - 20;
  setTimeout (jump7, 15);
}

function jump5 () {
  pupy = pupy - 20;
  setTimeout (jump6, 15);
}

function jump4 () {
    pupy = pupy - 22;
    setTimeout(jump5, 15);
}

function jump3 () {
    pupy = pupy - 23;
    setTimeout(jump4, 15);
}

function jump2 () {
    pupy = pupy - 25;
    setTimeout(jump3, 15);
}

function jump1 () {
    pupy = pupy - 25;
    setTimeout(jump2, 15);
}

// Checks for collision

function ImagesTouching(img2, x2, y2) {
         if (pupx >= x2+img2.width || pupx+pup.width <= x2) return false;   // too far to the side
         if (pupy >= y2+img2.height || pupy+pup.height <= y2) return false; // too far above/below
         return true;                                                       // otherwise, overlap   
         }

// Clears the canvas and redraws sprites at their current coordinates.

function drawfence() {
  fencex = (fencex - 5);
  if (fencex < -1280) {
    fencex = 1280;
    round = (round + 1);
    score = (score + round);
    treatya = fencey;
    treatyb = fencey;
    treatyc = fencey;
    treatyd = fencey;
    treatye = fencey;
  }
  if (round == 0) {
    ctx.fillText((round + 1), fencex, 200);
    ctx.drawImage(fence, fencex, (fencey + 30));
      if (ImagesTouching(fence, fencex, (fencey + 30))) {
        gameover = (gameover + 1);
      }
    ctx.drawImage(fence, (fencex + 640), (fencey + 30));
      if (ImagesTouching(fence, (fencex + 630), (fencey + 30))) {
        gameover = (gameover + 1);
      }
    ctx.drawImage(treat, (fencex + 1280), treatye);
      if (ImagesTouching(treat, (fencex + 1280), treatye)) {
        score = (score + 100);
        treatye = -100;
      }
  }
  if (round == 1) {
    ctx.fillText((round + 1), fencex, 200);
    ctx.drawImage(fence, fencex, fencey);
      if (ImagesTouching(fence, fencex, fencey)) {
        gameover = (gameover + 1);
      }
    ctx.drawImage(fence, (fencex + 640), fencey);
      if (ImagesTouching(fence, (fencex + 630), fencey)) {
        gameover = (gameover + 1);
      }
    ctx.drawImage(treat, (fencex + 1280), treatye);
      if (ImagesTouching(treat, (fencex + 1280), treatye)) {
        score = (score + 100);
        treatye = -100;
      }
    }
  if (round >= 2 && round <= 4) {
    ctx.fillText((round + 1), fencex, 200);
    ctx.drawImage(fence, fencex, fencey);
      if (ImagesTouching(fence, fencex, fencey)) {
        gameover = (gameover + 1);
      }
    ctx.drawImage(fence, (fencex + 320), fencey);
      if (ImagesTouching(fence, (fencex + 320), fencey)) {
        gameover = (gameover + 1);
      }
    ctx.drawImage(fence, (fencex + 640), fencey);
      if (ImagesTouching(fence, (fencex + 640), fencey)) {
        gameover = (gameover + 1);
      }
    ctx.drawImage(fence, (fencex + 960), fencey);
      if (ImagesTouching(fence, (fencex + 960), fencey)) {
        gameover = (gameover + 1);
      }
    ctx.drawImage(treat, (fencex + 1280), treatye);
      if (ImagesTouching(treat, (fencex + 1280), treatye)) {
        score = (score + 100);
        treatye = -100;
      }
  }

  if (round == 5) {
    ctx.fillText((round + 1), fencex, 200);
    ctx.drawImage(fence, fencex, fencey);
      if (ImagesTouching(fence, fencex, fencey)) {
        gameover = (gameover + 1);
      }
    ctx.drawImage(fence, (fencex + 320), fencey);
      if (ImagesTouching(fence, (fencex + 320), fencey)) {
        gameover = (gameover + 1);
      }
// Floater
    ctx.drawImage(floater, (fencex + 640), (fencey - 150));
      if (ImagesTouching(floater, (fencex + 640), (fencey - 150))) {
        gameover = (gameover + 1);
      }
//
    ctx.drawImage(fence, (fencex + 960), fencey);
      if (ImagesTouching(fence, (fencex + 960), fencey)) {
        gameover = (gameover + 1);
      }
    ctx.drawImage(treat, (fencex + 1280), treatye);
      if (ImagesTouching(treat, (fencex + 1280), treatye)) {
        score = (score + 100);
        treatye = -100;
      }
  }

  if (round == 6) {

    ctx.fillText((round + 1), fencex, 200);
    ctx.drawImage(fence, fencex, fencey);
      if (ImagesTouching(fence, fencex, fencey)) {
        gameover = (gameover + 1);
      }

    ctx.drawImage(fence, (fencex + 320), fencey);
      if (ImagesTouching(fence, (fencex + 320), fencey)) {
        gameover = (gameover + 1);
      }

// short fence + treat

    ctx.drawImage(fence, (fencex + 640), (fencey + 40));
      if (ImagesTouching(fence, (fencex + 640), fencey)) {
        gameover = (gameover + 1);
      }

    ctx.drawImage(treat, (fencex + 624), treatyc);
      if (ImagesTouching(treat, (fencex + 624), treatyc)) {
        score = (score + 100);
        treatyc = -100;
      }
//

    ctx.drawImage(fence, (fencex + 960), fencey);
      if (ImagesTouching(fence, (fencex + 960), fencey)) {
        gameover = (gameover + 1);
      }

    ctx.drawImage(treat, (fencex + 1280), treatye);
      if (ImagesTouching(treat, (fencex + 1280), treatye)) {
        score = (score + 100);
        treatye = -100;
      }
  }


  if (round >= 7) {
    ctx.fillText((round + 1), fencex, 200);
    ctx.drawImage(fence, fencex, fencey);
      if (ImagesTouching(fence, fencex, fencey)) {
        gameover = (gameover + 1);
      }
    ctx.drawImage(fence, (fencex + 320), fencey);
      if (ImagesTouching(fence, (fencex + 320), fencey)) {
        gameover = (gameover + 1);
      }

// short double
    ctx.drawImage(fence, (fencex + 624), (fencey + 50));
      if (ImagesTouching(floater, (fencex + 624), (fencey + 50))) {
        gameover = (gameover + 1);
      }
    ctx.drawImage(floater, (fencex + 656), (fencey + 50));
      if (ImagesTouching(floater, (fencex + 656), (fencey + 50))) {
        gameover = (gameover + 1);
      }
//

    ctx.drawImage(fence, (fencex + 960), fencey);
      if (ImagesTouching(fence, (fencex + 960), fencey)) {
        gameover = (gameover + 1);
      }
    ctx.drawImage(treat, (fencex + 1280), treatye);
      if (ImagesTouching(treat, (fencex + 1280), treatye)) {
        score = (score + 100);
        treatye = -100;
      }
  }


}

function drawframe () {
  if (gameover == 0) {
    ctx.clearRect(0, 0, Canvas.width, Canvas.height);
    ctx.drawImage(background, 0, 0);
    ctx.drawImage(pup, pupx, pupy);
    drawfence();
    ctx.fillText("Score: " + score, 10, 60);
    ctx.fillText("High Score: " + highscore, 10, 30);
  }
  if (gameover > 0) {
    ctx.fillText("Game Over", Canvas.width/2, Canvas.height/2);
      if (score > highscore) {highscore = score}
  }
}

setInterval (drawframe, 15);

function resetgame () {
  gameover = 0;
  fencex = 1200;
  round = 0;
  score = 0;
  pupy = 630;
  treatya = fencey;
  treatyb = fencey;
  treatyc = fencey;
  treatyd = fencey;
  treatye = fencey;
}

function getplayerinput(MyEvent) {
  if (pupy == 630 && gameover == 0) {jump1 ()}
  if (gameover > 0) {resetgame ()}
  MyEvent.preventDefault();
}

addEventListener("touchstart", getplayerinput);     
addEventListener("mousedown", getplayerinput);     
addEventListener("keydown", getplayerinput);     

</script>
</body>
</html>